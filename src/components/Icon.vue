<template>
  <i 
    :class="iconClass"
    :style="iconStyle"
    v-html="iconSvg"
  ></i>
</template>

<script>
import { computed } from 'vue'

export default {
  name: 'Icon',
  props: {
    name: {
      type: String,
      required: true
    },
    size: {
      type: [String, Number],
      default: '1em'
    },
    color: {
      type: String,
      default: 'currentColor'
    },
    className: {
      type: String,
      default: ''
    }
  },
  setup(props) {
    // 图标映射 - 使用SVG路径
    const iconMap = {
      // 天气相关图标
      'sunny': `<svg viewBox="0 0 1024 1024"><path d="M512 256c-141.385 0-256 114.615-256 256s114.615 256 256 256 256-114.615 256-256S653.385 256 512 256zM512 704c-106.039 0-192-85.961-192-192s85.961-192 192-192 192 85.961 192 192S618.039 704 512 704z"/><path d="M512 128c17.673 0 32-14.327 32-32V32c0-17.673-14.327-32-32-32s-32 14.327-32 32v64C480 113.673 494.327 128 512 128zM512 896c-17.673 0-32 14.327-32 32v64c0 17.673 14.327 32 32 32s32-14.327 32-32v-64C544 910.327 529.673 896 512 896zM181.019 181.019c-12.497-12.497-32.758-12.497-45.255 0s-12.497 32.758 0 45.255l45.255 45.255c12.497 12.497 32.758 12.497 45.255 0s12.497-32.758 0-45.255L181.019 181.019zM842.981 842.981c12.497 12.497 32.758 12.497 45.255 0s12.497-32.758 0-45.255l-45.255-45.255c-12.497-12.497-32.758-12.497-45.255 0s-12.497 32.758 0 45.255L842.981 842.981zM128 512c0-17.673-14.327-32-32-32H32c-17.673 0-32 14.327-32 32s14.327 32 32 32h64C113.673 544 128 529.673 128 512zM896 512c0 17.673 14.327 32 32 32h64c17.673 0 32-14.327 32-32s-14.327-32-32-32h-64C910.327 480 896 494.327 896 512zM226.274 797.726c-12.497 12.497-12.497 32.758 0 45.255s32.758 12.497 45.255 0l45.255-45.255c12.497-12.497 12.497-32.758 0-45.255s-32.758-12.497-45.255 0L226.274 797.726zM797.726 226.274c12.497-12.497 12.497-32.758 0-45.255s-32.758-12.497-45.255 0l-45.255 45.255c-12.497 12.497-12.497 32.758 0 45.255s32.758 12.497 45.255 0L797.726 226.274z"/></svg>`,
      
      'cloudy': `<svg viewBox="0 0 1024 1024"><path d="M790.4 409.6c-22.4-115.2-121.6-204.8-243.2-204.8-96 0-179.2 54.4-220.8 134.4-6.4-1.6-12.8-1.6-19.2-1.6-70.4 0-128 57.6-128 128 0 3.2 0 6.4 0 9.6C118.4 492.8 64 563.2 64 643.2c0 89.6 72 161.6 161.6 161.6h556.8c89.6 0 161.6-72 161.6-161.6C944 531.2 876.8 435.2 790.4 409.6zM782.4 736H225.6c-51.2 0-92.8-41.6-92.8-92.8s41.6-92.8 92.8-92.8c6.4 0 12.8 0.8 19.2 1.6l32 6.4 12.8-30.4c25.6-60.8 86.4-100 153.6-100 92.8 0 169.6 76.8 169.6 169.6v12.8l12.8 1.6c6.4 0.8 12.8 1.6 19.2 1.6h140.8c51.2 0 92.8 41.6 92.8 92.8S833.6 736 782.4 736z"/></svg>`,
      
      'rainy': `<svg viewBox="0 0 1024 1024"><path d="M790.4 409.6c-22.4-115.2-121.6-204.8-243.2-204.8-96 0-179.2 54.4-220.8 134.4-6.4-1.6-12.8-1.6-19.2-1.6-70.4 0-128 57.6-128 128 0 3.2 0 6.4 0 9.6C118.4 492.8 64 563.2 64 643.2c0 89.6 72 161.6 161.6 161.6h556.8c89.6 0 161.6-72 161.6-161.6C944 531.2 876.8 435.2 790.4 409.6z"/><path d="M320 864c-17.673 0-32 14.327-32 32v64c0 17.673 14.327 32 32 32s32-14.327 32-32v-64C352 878.327 337.673 864 320 864zM448 864c-17.673 0-32 14.327-32 32v64c0 17.673 14.327 32 32 32s32-14.327 32-32v-64C480 878.327 465.673 864 448 864zM576 864c-17.673 0-32 14.327-32 32v64c0 17.673 14.327 32 32 32s32-14.327 32-32v-64C608 878.327 593.673 864 576 864zM704 864c-17.673 0-32 14.327-32 32v64c0 17.673 14.327 32 32 32s32-14.327 32-32v-64C736 878.327 721.673 864 704 864z"/></svg>`,
      
      'typhoon': `<svg viewBox="0 0 1024 1024"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zM512 896c-212.1 0-384-171.9-384-384S299.9 128 512 128s384 171.9 384 384S724.1 896 512 896z"/><path d="M512 256c-141.4 0-256 114.6-256 256s114.6 256 256 256 256-114.6 256-256S653.4 256 512 256zM512 704c-106 0-192-86-192-192s86-192 192-192 192 86 192 192S618 704 512 704z"/><path d="M512 384c-70.7 0-128 57.3-128 128s57.3 128 128 128 128-57.3 128-128S582.7 384 512 384zM512 576c-35.3 0-64-28.7-64-64s28.7-64 64-64 64 28.7 64 64S547.3 576 512 576z"/></svg>`,
      
      'wind': `<svg viewBox="0 0 1024 1024"><path d="M128 320h256c35.3 0 64-28.7 64-64s-28.7-64-64-64c-17.7 0-32-14.3-32-32s14.3-32 32-32c70.7 0 128 57.3 128 128s-57.3 128-128 128H128c-17.7 0-32-14.3-32-32s14.3-32 32-32zM192 512h448c35.3 0 64 28.7 64 64s-28.7 64-64 64c-17.7 0-32 14.3-32 32s14.3 32 32 32c70.7 0 128-57.3 128-128s-57.3-128-128-128H192c-17.7 0-32 14.3-32 32s14.3 32 32 32zM128 704h384c35.3 0 64 28.7 64 64s-28.7 64-64 64c-17.7 0-32 14.3-32 32s14.3 32 32 32c70.7 0 128-57.3 128-128s-57.3-128-128-128H128c-17.7 0-32 14.3-32 32s14.3 32 32 32z"/></svg>`,
      
      'temperature': `<svg viewBox="0 0 1024 1024"><path d="M512 64c-70.7 0-128 57.3-128 128v384c-70.7 41.2-128 118.5-128 208 0 141.4 114.6 256 256 256s256-114.6 256-256c0-89.5-57.3-166.8-128-208V192C640 121.3 582.7 64 512 64zM512 960c-106 0-192-86-192-192 0-70.7 38.3-132.3 95.1-165.6L432 592V192c0-35.3 28.7-64 64-64s64 28.7 64 64v400l16.9 10.4C633.7 635.7 672 697.3 672 768 672 874 586 960 512 960z"/><circle cx="512" cy="768" r="96"/></svg>`,
      
      'humidity': `<svg viewBox="0 0 1024 1024"><path d="M512 64c-12.9 0-24.9 7.8-29.9 19.8l-256 512c-3.3 6.7-3.3 14.7 0 21.4C235.1 640.4 262.3 704 352 704h320c89.7 0 116.9-63.6 125.9-86.8 3.3-6.7 3.3-14.7 0-21.4l-256-512C536.9 71.8 524.9 64 512 64zM368 640h-16c-53 0-96-43-96-96 0-17.7-14.3-32-32-32s-32 14.3-32 32c0 88.4 71.6 160 160 160h16c17.7 0 32-14.3 32-32S385.7 640 368 640z"/></svg>`,
      
      'pressure': `<svg viewBox="0 0 1024 1024"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zM512 896c-212.1 0-384-171.9-384-384S299.9 128 512 128s384 171.9 384 384S724.1 896 512 896z"/><path d="M512 320c-17.7 0-32 14.3-32 32v128L352 608c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l128-128c6-6 9.4-14.1 9.4-22.6V352c0-17.7-14.3-32-32-32z"/></svg>`,
      
      'search': `<svg viewBox="0 0 1024 1024"><path d="M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0 0 11.6 0l43.6-43.5a8.2 8.2 0 0 0 0-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116 65.6-158.4C296 211.3 352.2 188 412 188s116 23.3 158.4 65.6C612.7 296 636 352.2 636 412s-23.3 116-65.6 158.4z"/></svg>`,
      
      'location': `<svg viewBox="0 0 1024 1024"><path d="M512 96C406.3 96 320 182.3 320 288c0 105.7 86.3 192 192 192s192-86.3 192-192C704 182.3 617.7 96 512 96zM512 416c-70.7 0-128-57.3-128-128s57.3-128 128-128 128 57.3 128 128S582.7 416 512 416z"/><path d="M512 480c-141.4 0-288 86.6-288 192v256h576V672C800 566.6 653.4 480 512 480zM736 864H288V672c0-63.4 100.3-128 224-128s224 64.6 224 128V864z"/></svg>`,
      
      'refresh': `<svg viewBox="0 0 1024 1024"><path d="M512 128c212.1 0 384 171.9 384 384h96c0-265.1-214.9-480-480-480S32 246.9 32 512h96C128 299.9 299.9 128 512 128z"/><path d="M896 448L768 320l128-128v256zM512 896c-212.1 0-384-171.9-384-384H32c0 265.1 214.9 480 480 480s480-214.9 480-480h-96C896 724.1 724.1 896 512 896z"/><path d="M128 576L256 704 128 832V576z"/></svg>`,
      
      'calendar': `<svg viewBox="0 0 1024 1024"><path d="M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216C912 198.3 897.7 184 880 184zM648 120c4.4 0 8-3.6 8-8s-3.6-8-8-8-8 3.6-8 8S643.6 120 648 120zM376 120c4.4 0 8-3.6 8-8s-3.6-8-8-8-8 3.6-8 8S371.6 120 376 120zM848 848H176V280h672V848z"/><path d="M416 496H368c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-48C424 499.6 420.4 496 416 496zM416 624H368c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-48C424 627.6 420.4 624 416 624zM416 752H368c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-48C424 755.6 420.4 752 416 752z"/></svg>`,
      
      'warning': `<svg viewBox="0 0 1024 1024"><path d="M512 64L64 864h896L512 64z M512 768c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32S529.7 768 512 768z M544 608c0 17.7-14.3 32-32 32s-32-14.3-32-32V416c0-17.7 14.3-32 32-32s32 14.3 32 32V608z"/></svg>`,
      
      'close': `<svg viewBox="0 0 1024 1024"><path d="M563.8 512l262.5-312.9c4.4-5.2 0.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3.1-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 0 0 203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3.1 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"/></svg>`,
      
      'air-quality': `<svg viewBox="0 0 1024 1024"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zM288 448h448c17.7 0 32 14.3 32 32s-14.3 32-32 32H288c-17.7 0-32-14.3-32-32s14.3-32 32-32zM288 576h320c17.7 0 32 14.3 32 32s-14.3 32-32 32H288c-17.7 0-32-14.3-32-32s14.3-32 32-32z"/></svg>`
    }

    const iconClass = computed(() => {
      return `icon icon-${props.name} ${props.className}`.trim()
    })

    const iconStyle = computed(() => {
      return {
        width: typeof props.size === 'number' ? `${props.size}px` : props.size,
        height: typeof props.size === 'number' ? `${props.size}px` : props.size,
        fill: props.color,
        display: 'inline-block',
        verticalAlign: 'middle'
      }
    })

    const iconSvg = computed(() => {
      return iconMap[props.name] || iconMap['warning']
    })

    return {
      iconClass,
      iconStyle,
      iconSvg
    }
  }
}
</script>

<style scoped>
.icon {
  transition: all 0.3s ease;
}

.icon svg {
  width: 100%;
  height: 100%;
  fill: inherit;
}
</style>
